    for feature in analyze(doc):
                   ~~~~~~~^^^^^
  File "/usr/local/lib/python3.13/site-packages/sklearn/feature_extraction/text.py", line 104, in _analyze
    doc = preprocessor(doc)
  File "/usr/local/lib/python3.13/site-packages/sklearn/feature_extraction/text.py", line 62, in _preprocess
    doc = doc.lower()
          ^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'lower'
root@de96430129e2:/app# sed -i 's/if not text: return ""/if not text: return " " /g' form_filler.py; tmux wait -S done
root@de96430129e2:/app# sed -i '/def map_fields/pdf_fields, extracted_info):/a \n    # Ensure all texts are valid before processing\n    extracted_info = {doc:
extract_information(doc) for doc in extracted_info}\n    extracted_info = {doc: text for doc, text in extracted_info.items() if text.strip() != ""}' form_filler
.py; tmux wait -S done
sed: -e expression #1, char 18: extra characters after command
root@de96430129e2:/app# python3 form_filler.py; tmux wait -S done
Traceback (most recent call last):
  File "/app/form_filler.py", line 61, in <module>
    main()
    ~~~~^^
  File "/app/form_filler.py", line 48, in main
    field_mapping, unmapped_fields, rag_stats = map_fields(pdf_fields, extracted_data)
                                                ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/form_filler.py", line 31, in map_fields
    tfidf_matrix = vectorizer.fit_transform(corpus)
  File "/usr/local/lib/python3.13/site-packages/sklearn/feature_extraction/text.py", line 2104, in fit_transform
    X = super().fit_transform(raw_documents)
  File "/usr/local/lib/python3.13/site-packages/sklearn/base.py", line 1363, in wrapper
    return fit_method(estimator, *args, **kwargs)
  File "/usr/local/lib/python3.13/site-packages/sklearn/feature_extraction/text.py", line 1376, in fit_transform
    vocabulary, X = self._count_vocab(raw_documents, self.fixed_vocabulary_)
                    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/sklearn/feature_extraction/text.py", line 1263, in _count_vocab
    for feature in analyze(doc):
                   ~~~~~~~^^^^^
  File "/usr/local/lib/python3.13/site-packages/sklearn/feature_extraction/text.py", line 104, in _analyze
    doc = preprocessor(doc)
  File "/usr/local/lib/python3.13/site-packages/sklearn/feature_extraction/text.py", line 62, in _preprocess
    doc = doc.lower()
          ^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'lower'
root@de96430129e2:/app#
