  File "/usr/local/lib/python3.13/site-packages/sklearn/feature_extraction/text.py", line 62, in _preprocess
    doc = doc.lower()
          ^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'lower'
root@de96430129e2:/app# sed -i 's/return text/if text is None: print(f"Warning: No text found in {doc_path}")\n    return ""/g' form_filler.py; tmux wait -S don
e
root@de96430129e2:/app# python3 form_filler.py; tmux wait -S done
Traceback (most recent call last):
  File "/app/form_filler.py", line 62, in <module>
    main()
    ~~~~^^
  File "/app/form_filler.py", line 49, in main
    field_mapping, unmapped_fields, rag_stats = map_fields(pdf_fields, extracted_data)
                                                ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/form_filler.py", line 32, in map_fields
    tfidf_matrix = vectorizer.fit_transform(corpus)
  File "/usr/local/lib/python3.13/site-packages/sklearn/feature_extraction/text.py", line 2104, in fit_transform
    X = super().fit_transform(raw_documents)
  File "/usr/local/lib/python3.13/site-packages/sklearn/base.py", line 1363, in wrapper
    return fit_method(estimator, *args, **kwargs)
  File "/usr/local/lib/python3.13/site-packages/sklearn/feature_extraction/text.py", line 1376, in fit_transform
    vocabulary, X = self._count_vocab(raw_documents, self.fixed_vocabulary_)
                    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/sklearn/feature_extraction/text.py", line 1263, in _count_vocab
    for feature in analyze(doc):
                   ~~~~~~~^^^^^
  File "/usr/local/lib/python3.13/site-packages/sklearn/feature_extraction/text.py", line 104, in _analyze
    doc = preprocessor(doc)
  File "/usr/local/lib/python3.13/site-packages/sklearn/feature_extraction/text.py", line 62, in _preprocess
    doc = doc.lower()
          ^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'lower'
root@de96430129e2:/app# sed -i '/def map_fields(pdf_fields, extracted_info):/a \n    # Filter out None or empty values from extracted_info\n    extracted_info =
 {doc: text for doc, text in extracted_info.items() if text.strip() != ""}' form_filler.py; tmux wait -S done
root@de96430129e2:/app# python3 form_filler.py; tmux wait -S done
  File "/app/form_filler.py", line 19
    n    # Filter out None or empty values from extracted_info
    ^
IndentationError: expected an indented block after function definition on line 18
root@de96430129e2:/app#
