/app/main.rs:23:13: error: ‘atoi’ was not declared in this scope
   23 |     int n = atoi(argv[1]);
      |             ^~~~
/app/main.rs: In function ‘void cpp_main(int)’:
/app/main.rs:29:20: error: ‘fibonacci’ was not declared in this scope
   29 |     printf("%d\n", fibonacci(n));
      |                    ^~~~~~~~~
root@2df4cc47f139:/app# echo '#include <stdio.h>
> extern "C" {
>     void cpp_main(int n);
> }
>
> extern "C" fn rust_main(n: i32);
>
> int main(int argc, char* argv[]) {
>     int n = atoi(argv[1]);
>     cpp_main(n);
>     return 0;
> }
>
> void cpp_main(int n) {
>     printf("%d\n", fibonacci(n));
> }
>
> fn main() {
>     let n: usize = std::env::args().nth(1).unwrap().parse().unwrap();
>     println!("{}", fibonacci(n));
> }
>
> fn fibonacci(n: usize) -> u64 {
>     if n == 0 { 1 }
>     else if n == 1 { 1 }
>     else { fibonacci(n - 1) + fibonacci(n - 2) }
> }
>
> #[no_mangle]
> pub extern "C" fn rust_main(n: i32) {
>     println!("{}", fibonacci(n as usize));
> }' > /app/main.rs
root@2df4cc47f139:/app#
