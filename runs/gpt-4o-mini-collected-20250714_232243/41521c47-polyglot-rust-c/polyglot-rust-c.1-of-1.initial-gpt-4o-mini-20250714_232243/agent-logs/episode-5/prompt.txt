int main(int argc, char* argv[]) {
    int n = atoi(argv[1]);
    cpp_main(n);
    return 0;
}

void cpp_main(int n) {
    printf("%d\n", fibonacci(n));
}
root@2df4cc47f139:/app# rustc /app/main.rs && ./main 5; tmux wait -S done
error: expected one of `!` or `[`, found `include`
 --> /app/main.rs:1:2
  |
1 | #include <stdio.h>
  |  ^^^^^^^ expected one of `!` or `[`

error: aborting due to previous error

root@2df4cc47f139:/app# g++ -x c++ /app/main.rs -o cmain && ./cmain 5; tmux wait -S done
/app/main.rs:17:2: error: invalid preprocessing directive #[
   17 | #[no_mangle]
      |  ^
/app/main.rs:6:1: error: ‘fn’ does not name a type
    6 | fn main() {
      | ^~
/app/main.rs:11:1: error: ‘fn’ does not name a type
   11 | fn fibonacci(n: usize) -> u64 {
      | ^~
/app/main.rs:18:1: error: ‘pub’ does not name a type
   18 | pub extern "C" fn rust_main(n: i32) {
      | ^~~
/app/main.rs: In function ‘int main(int, char**)’:
/app/main.rs:23:13: error: ‘atoi’ was not declared in this scope
   23 |     int n = atoi(argv[1]);
      |             ^~~~
/app/main.rs: In function ‘void cpp_main(int)’:
/app/main.rs:29:20: error: ‘fibonacci’ was not declared in this scope
   29 |     printf("%d\n", fibonacci(n));
      |                    ^~~~~~~~~
root@2df4cc47f139:/app#
