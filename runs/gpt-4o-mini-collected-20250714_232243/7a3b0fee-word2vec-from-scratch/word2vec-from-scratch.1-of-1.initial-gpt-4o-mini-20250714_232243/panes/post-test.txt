root@67dc9dcc320a:/app# bash /tests/run-tests.sh; tmux wait -S done
Setting up test environment for word2vec-from-scratch task...
Test environment ready.
===================================================================== test session starts ======================================================================
platform linux -- Python 3.13.1, pytest-8.3.4, pluggy-1.6.0
rootdir: /tests
collected 10 items

../tests/test_outputs.py FFFFFFFFFF                                                                                                                      [100%]

=========================================================================== FAILURES ===========================================================================
__________________________________________________________________ test_required_files_exist ___________________________________________________________________

    def test_required_files_exist():
        """Test that the two required output files are created"""
        required_files = [
            "/app/model.pt",
            "/app/vocab.pkl"
        ]

        for file_path in required_files:
>           assert os.path.exists(file_path), f"Required file {file_path} not found"
E           AssertionError: Required file /app/model.pt not found
E           assert False
E            +  where False = <function exists at 0x7f72b35aea20>('/app/model.pt')
E            +    where <function exists at 0x7f72b35aea20> = <module 'posixpath' (frozen)>.exists
E            +      where <module 'posixpath' (frozen)> = os.path

/tests/test_outputs.py:52: AssertionError
___________________________________________________________________ test_model_file_validity ___________________________________________________________________

    def test_model_file_validity():
        """Test that the model file can be loaded and has correct structure"""
        model_path = "/app/model.pt"
>       assert os.path.exists(model_path), "Model file not found"
E       AssertionError: Model file not found
E       assert False
E        +  where False = <function exists at 0x7f72b35aea20>('/app/model.pt')
E        +    where <function exists at 0x7f72b35aea20> = <module 'posixpath' (frozen)>.exists
E        +      where <module 'posixpath' (frozen)> = os.path

/tests/test_outputs.py:58: AssertionError
___________________________________________________________________ test_vocabulary_validity ___________________________________________________________________

    def test_vocabulary_validity():
        """Test that the vocabulary file is valid and has correct structure"""
        vocab_path = "/app/vocab.pkl"
>       assert os.path.exists(vocab_path), "Vocabulary file not found"
E       AssertionError: Vocabulary file not found
E       assert False
E        +  where False = <function exists at 0x7f72b35aea20>('/app/vocab.pkl')
E        +    where <function exists at 0x7f72b35aea20> = <module 'posixpath' (frozen)>.exists
E        +      where <module 'posixpath' (frozen)> = os.path

/tests/test_outputs.py:103: AssertionError
______________________________________________________________ test_model_vocabulary_consistency _______________________________________________________________

    def test_model_vocabulary_consistency():
        """Test that model and vocabulary dimensions are consistent"""
        # Load model and vocabulary
>       model_data = torch.load("/app/model.pt", map_location="cpu")

/tests/test_outputs.py:135:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/local/lib/python3.13/site-packages/torch/serialization.py:1479: in load
    with _open_file_like(f, "rb") as opened_file:
/usr/local/lib/python3.13/site-packages/torch/serialization.py:759: in _open_file_like
    return _open_file(name_or_buffer, mode)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <torch.serialization._open_file object at 0x7f72aff3a3c0>, name = '/app/model.pt', mode = 'rb'

    def __init__(self, name: Union[str, os.PathLike[str]], mode: str) -> None:
>       super().__init__(open(name, mode))
E       FileNotFoundError: [Errno 2] No such file or directory: '/app/model.pt'

/usr/local/lib/python3.13/site-packages/torch/serialization.py:740: FileNotFoundError
____________________________________________________________ test_vocabulary_contains_analogy_words ____________________________________________________________

    def test_vocabulary_contains_analogy_words():
        """Test that vocabulary contains words needed for the classic king-queen analogy"""
>       vocab = load_vocab_with_fallback("/app/vocab.pkl")

/tests/test_outputs.py:161:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

vocab_path = '/app/vocab.pkl'

    def load_vocab_with_fallback(vocab_path):
        """Load vocabulary with custom unpickler fallback"""
        try:
            # Try normal loading first
>           with open(vocab_path, "rb") as f:
E           FileNotFoundError: [Errno 2] No such file or directory: '/app/vocab.pkl'

/tests/test_outputs.py:35: FileNotFoundError
___________________________________________________________ test_vocabulary_contains_required_terms ____________________________________________________________

    def test_vocabulary_contains_required_terms():
        """Test that vocabulary contains all specifically required terms
        from task instructions"""
>       vocab = load_vocab_with_fallback("/app/vocab.pkl")

/tests/test_outputs.py:175:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

vocab_path = '/app/vocab.pkl'

    def load_vocab_with_fallback(vocab_path):
        """Load vocabulary with custom unpickler fallback"""
        try:
            # Try normal loading first
>           with open(vocab_path, "rb") as f:
E           FileNotFoundError: [Errno 2] No such file or directory: '/app/vocab.pkl'

/tests/test_outputs.py:35: FileNotFoundError
__________________________________________________________________ test_model_size_reasonable __________________________________________________________________

    def test_model_size_reasonable():
        """Test that model file size is reasonable"""
        model_path = "/app/model.pt"
>       file_size = os.path.getsize(model_path)

/tests/test_outputs.py:198:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

filename = '/app/model.pt'

>   ???
E   FileNotFoundError: [Errno 2] No such file or directory: '/app/model.pt'

<frozen genericpath>:86: FileNotFoundError
___________________________________________________________________ test_king_queen_analogy ____________________________________________________________________

    def test_king_queen_analogy():
        """Test the classic Word2Vec analogy: king - man + woman â‰ˆ queen"""
        # Use the proven evaluation functions
>       embeddings_norm, vocab = load_model()

/tests/test_outputs.py:213:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/tests/evaluate.py:44: in load_model
    vocab = load_vocab_with_fallback("/app/vocab.pkl")
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

vocab_path = '/app/vocab.pkl'

    def load_vocab_with_fallback(vocab_path):
        """Load vocabulary with custom unpickler fallback"""
        try:
            # Try normal loading first
>           with open(vocab_path, "rb") as f:
E           FileNotFoundError: [Errno 2] No such file or directory: '/app/vocab.pkl'

/tests/evaluate.py:32: FileNotFoundError
_________________________________________________________________ test_semantic_relationships __________________________________________________________________

    def test_semantic_relationships():
        """Test that embeddings capture semantic relationships
        using proven evaluation code"""
        # Use the tested load_model function
>       embeddings_norm, vocab = load_model()

/tests/test_outputs.py:243:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/tests/evaluate.py:44: in load_model
    vocab = load_vocab_with_fallback("/app/vocab.pkl")
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

vocab_path = '/app/vocab.pkl'

    def load_vocab_with_fallback(vocab_path):
        """Load vocabulary with custom unpickler fallback"""
        try:
            # Try normal loading first
>           with open(vocab_path, "rb") as f:
E           FileNotFoundError: [Errno 2] No such file or directory: '/app/vocab.pkl'

/tests/evaluate.py:32: FileNotFoundError
_____________________________________________________________ test_complete_king_queen_evaluation ______________________________________________________________

    def test_complete_king_queen_evaluation():
        """Test the complete king-queen analogy evaluation
        using the proven evaluate_analogy function"""
        # Use the proven evaluate_analogy function that handles everything
>       success, results = evaluate_analogy("king", "man", "woman", "queen")

/tests/test_outputs.py:287:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/tests/evaluate.py:158: in evaluate_analogy
    embeddings_norm, vocab = load_model()
/tests/evaluate.py:44: in load_model
    vocab = load_vocab_with_fallback("/app/vocab.pkl")
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

vocab_path = '/app/vocab.pkl'

    def load_vocab_with_fallback(vocab_path):
        """Load vocabulary with custom unpickler fallback"""
        try:
            # Try normal loading first
>           with open(vocab_path, "rb") as f:
E           FileNotFoundError: [Errno 2] No such file or directory: '/app/vocab.pkl'

/tests/evaluate.py:32: FileNotFoundError
--------------------------------------------------------------------- Captured stdout call ---------------------------------------------------------------------
Loading model and vocabulary...
=================================================================== short test summary info ====================================================================
FAILED ../tests/test_outputs.py::test_required_files_exist - AssertionError: Required file /app/model.pt not found
FAILED ../tests/test_outputs.py::test_model_file_validity - AssertionError: Model file not found
FAILED ../tests/test_outputs.py::test_vocabulary_validity - AssertionError: Vocabulary file not found
FAILED ../tests/test_outputs.py::test_model_vocabulary_consistency - FileNotFoundError: [Errno 2] No such file or directory: '/app/model.pt'
FAILED ../tests/test_outputs.py::test_vocabulary_contains_analogy_words - FileNotFoundError: [Errno 2] No such file or directory: '/app/vocab.pkl'
FAILED ../tests/test_outputs.py::test_vocabulary_contains_required_terms - FileNotFoundError: [Errno 2] No such file or directory: '/app/vocab.pkl'
FAILED ../tests/test_outputs.py::test_model_size_reasonable - FileNotFoundError: [Errno 2] No such file or directory: '/app/model.pt'
FAILED ../tests/test_outputs.py::test_king_queen_analogy - FileNotFoundError: [Errno 2] No such file or directory: '/app/vocab.pkl'
FAILED ../tests/test_outputs.py::test_semantic_relationships - FileNotFoundError: [Errno 2] No such file or directory: '/app/vocab.pkl'
FAILED ../tests/test_outputs.py::test_complete_king_queen_evaluation - FileNotFoundError: [Errno 2] No such file or directory: '/app/vocab.pkl'
====================================================================== 10 failed in 2.43s ======================================================================
root@67dc9dcc320a:/app#
