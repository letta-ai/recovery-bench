['asciinema rec --stdin /logs/agent.cast', 'Enter']
['clear', 'Enter']
'apt-get update\n'
'apt-get install -y tcc\n'
'mkdir -p /tmp/tcc_iso\n'
'cp $(which tcc) /tmp/tcc_iso/\n'
'genisoimage -o /tmp/tcc.iso -R -J /tmp/tcc_iso\n'
'rm -rf /tmp/tcc_iso\n'
'apt-get install -y genisoimage\n'
'genisoimage -o /tmp/tcc.iso -R -J /tmp/tcc_iso\n'
'mkdir -p /tmp/tcc_iso\n'
'cp $(which tcc) /tmp/tcc_iso/\n'
'genisoimage -o /tmp/tcc.iso -R -J /tmp/tcc_iso\n'
'ls -lh /tmp/tcc.iso\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'pwd\n'
'root\n'
'tcc --version\n'
'ls /mnt\n'
'mount /dev/cdrom /mnt\n'
'mkdir /mnt\n'
'mkdir /mnt\n'
'mount /dev/cdrom /mnt\n'
'ls /mnt\n'
'ls /dev\n'
'mount /dev/sr0 /mnt\n'
'ls /tmp\n'
'pwd\n'
'mkdir /tmp\n'
'exit\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'root\n'
'apt-get update\n'
'ls /bin\n'
'mkdir /tmp\n'
'mkdir /tmp/tcc_iso\n'
'exit\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'mkdir /tmp/tcc_iso\n'
'cp /bin/busybox /tmp/tcc_iso/tcc\n'
'cd /tmp/tcc_iso\n'
'busybox genisoimage -o /tmp/tcc.iso -R -J .\n'
'exit\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'docker restart <container_id>\n'
'exit\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
'exit\n'
'pkill qemu\n'
'qemu-system-x86_64 -kernel ./linux-6.9/arch/x86/boot/bzImage -initrd ramfs/initramfs.cpio.gz -append "console=ttyS0" -nographic -cdrom /tmp/tcc.iso\n'
['asciinema rec --stdin /logs/tests.cast', 'Enter']
['clear', 'Enter']
['bash ', '/tests/run-tests.sh', 'Enter']
['C-d']
