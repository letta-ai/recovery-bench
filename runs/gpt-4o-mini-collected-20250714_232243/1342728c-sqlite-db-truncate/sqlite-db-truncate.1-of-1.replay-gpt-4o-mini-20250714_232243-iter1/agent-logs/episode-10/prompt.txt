Fetched 144 kB in 0s (747 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package sqlite3.
(Reading database ... 6337 files and directories currently installed.)
Preparing to unpack .../sqlite3_3.45.1-1ubuntu2.3_amd64.deb ...
Unpacking sqlite3 (3.45.1-1ubuntu2.3) ...
Setting up sqlite3 (3.45.1-1ubuntu2.3) ...
root@c81a8e516b61:/app# sqlite3 /app/trunc.db .dump > /app/dump.sql; tmux wait -S done
sql error: file is not a database (26)
root@c81a8e516b61:/app# cat /app/dump.sql | sqlite3 /app/trunc.db .mode json .output /app/recover.json .dump; tmux wait -S done
current output mode: list
Error: in prepare, near "json": syntax error
  json
  ^--- error here
root@c81a8e516b61:/app# sqlite3 /app/trunc.db 'PRAGMA integrity_check;'; tmux wait -S done
Error: in prepare, file is not a database (26)
root@c81a8e516b61:/app# sqlite3 /app/trunc.db 'SELECT * FROM sqlite_master;'; tmux wait -S done
Error: in prepare, file is not a database (26)
root@c81a8e516b61:/app# file /app/trunc.db; tmux wait -S done
bash: file: command not found
root@c81a8e516b61:/app# ls -la /app/*.db; tmux wait -S done
-rw-r--r-- 1 root root 4096 Jul 14 23:22 /app/trunc.db
root@c81a8e516b61:/app# ls -la /app/backup*; tmux wait -S done
ls: cannot access '/app/backup*': No such file or directory
root@c81a8e516b61:/app# find /app -name '*.db.bak'; tmux wait -S done
root@c81a8e516b61:/app# ls -la /app/logs; tmux wait -S done
ls: cannot access '/app/logs': No such file or directory
root@c81a8e516b61:/app# cat /app/*.log; tmux wait -S done
cat: '/app/*.log': No such file or directory
root@c81a8e516b61:/app# echo 'Create a new database and notify users of the data loss' > /app/recovery_status.txt; tmux wait -S done
root@c81a8e516b61:/app# echo 'Please provide any necessary data for reconstruction.' >> /app/recovery_status.txt; tmux wait -S done
root@c81a8e516b61:/app# dd if=/app/trunc.db of=/app/trunc_backup.db bs=512 conv=noerror,sync; tmux wait -S done
8+0 records in
8+0 records out
4096 bytes (4.1 kB, 4.0 KiB) copied, 7.555e-05 s, 54.2 MB/s
root@c81a8e516b61:/app# ls -la /app/*.db; tmux wait -S done
-rw-r--r-- 1 root root 4096 Jul 14 23:22 /app/trunc.db
-rw-r--r-- 1 root root 4096 Jul 15 01:46 /app/trunc_backup.db
root@c81a8e516b61:/app# echo 'Attempting to inspect or recover from the backup database.' > /app/recovery_status.txt; tmux wait -S done
root@c81a8e516b61:/app#
